<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>认定申请</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            display: flex;
        }
        .icon{
            max-width: 80px; /* 最大宽度 */
            max-height: 20vh; /* 最大高度，等于视口高度的25% */
            filter: brightness(0) invert(1); /* 将图像颜色转换为白色 */
        }
        .sidebar {
            width: 150px;
            background-color: #2c3e50;
            height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            color: white;
            padding: 20px;
            box-sizing: border-box;
        }
        .sidebar a {
            color: white;
            text-decoration: none;
            display: block;
            padding: 10px 0;
            font-size: 18px;
        }
        .sidebar a:hover {
            background-color: #34495e;
        }
        .content {
            margin-left: 220px;
            padding: 20px;
            width: calc(100% - 220px);
            box-sizing: border-box;
        }
        .form-container {
            background-color: #15172b;
            border-radius: 20px;
            box-sizing: border-box;
            padding: 20px;
            width: 100%;
            color: white;
        }
        .input-container {
            position: relative;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        .input, .textarea, .select {
            background-color: #303245;
            border-radius: 12px;
            border: 0;
            box-sizing: border-box;
            color: #eee;
            font-size: 18px;
            padding: 10px 20px;
            width: 100%;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        }
        .input {
            height: 50px;
        }
        .textarea {
            height: 100px;
            resize: none;
        }
        .select {
            height: 50px;
        }
        label {
            margin-bottom: 10px;
            display: block;
            font-weight: bold;
        }
        .input-container label {
            margin-bottom: 5px;
        }
        button.submit {
            background-color: #08d;
            border-radius: 12px;
            border: 0;
            box-sizing: border-box;
            color: #eee;
            cursor: pointer;
            font-size: 18px;
            height: 50px;
            margin-top: 20px;
            text-align: center;
            width: 100%;
        }
        button.submit:active {
            background-color: #06b;
        }
        .error-message {
            color: red;
            font-size: 16px;
            margin-top: 10px;
        }
        .range-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .range-label {
            font-size: 18px;
        }
        .range-slider {
            flex: 1;
        }
        * {
  margin: 0;
  padding: 0;
}
.wrapper {
  height: 100vh; /* 使其高度覆盖视口 */
  width: 100vw; /* 使其宽度覆盖视口 */
  background: linear-gradient(180deg, #04fafd, 5%, #119dff, 50%, #030423);
  position: fixed; /* 固定在视口 */
  top: 0;
  left: 0;
  z-index: -1; /* 确保在所有其他内容之下 */
}
.wrapper h1 {
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  position: absolute;
  font-family: sans-serif;
  letter-spacing: 1px;
  word-spacing: 2px;
  color: #fff;
  font-size: 40px;
  font-weight: 888;
  text-transform: uppercase;
}
.wrapper div {
  height: 60px;
  width: 60px;
  border: 2px solid rgba(255, 255, 255, 0.7);
  border-radius: 50px;
  position: absolute;
  top: 10%;
  left: 10%;
  animation: 4s linear infinite;
}
div .dot {
  height: 10px;
  width: 10px;
  border-radius: 50px;
  background: rgba(255, 255, 255, 0.5);
  position: absolute;
  top: 20%;
  right: 20%;
}
.wrapper div:nth-child(1) {
  top: 20%;
  left: 20%;
  animation: animate 8s linear infinite;
}
.wrapper div:nth-child(2) {
  top: 60%;
  left: 80%;
  animation: animate 10s linear infinite;
}
.wrapper div:nth-child(3) {
  top: 40%;
  left: 40%;
  animation: animate 3s linear infinite;
}
.wrapper div:nth-child(4) {
  top: 66%;
  left: 30%;
  animation: animate 7s linear infinite;
}
.wrapper div:nth-child(5) {
  top: 90%;
  left: 10%;
  animation: animate 9s linear infinite;
}
.wrapper div:nth-child(6) {
  top: 30%;
  left: 60%;
  animation: animate 5s linear infinite;
}
.wrapper div:nth-child(7) {
  top: 70%;
  left: 20%;
  animation: animate 8s linear infinite;
}
.wrapper div:nth-child(8) {
  top: 75%;
  left: 60%;
  animation: animate 10s linear infinite;
}
.wrapper div:nth-child(9) {
  top: 50%;
  left: 50%;
  animation: animate 6s linear infinite;
}
.wrapper div:nth-child(10) {
  top: 45%;
  left: 20%;
  animation: animate 10s linear infinite;
}
.wrapper div:nth-child(11) {
  top: 10%;
  left: 90%;
  animation: animate 9s linear infinite;
}
.wrapper div:nth-child(12) {
  top: 20%;
  left: 70%;
  animation: animate 7s linear infinite;
}
.wrapper div:nth-child(13) {
  top: 20%;
  left: 20%;
  animation: animate 8s linear infinite;
}
.wrapper div:nth-child(14) {
  top: 60%;
  left: 5%;
  animation: animate 6s linear infinite;
}
.wrapper div:nth-child(15) {
  top: 90%;
  left: 80%;
  animation: animate 9s linear infinite;
}
@keyframes animate {
  0% {
    transform: scale(0) translateY(0) rotate(70deg);
  }
  100% {
    transform: scale(1.3) translateY(-100px) rotate(360deg);
  }
}
    .logout-link {
position: absolute;
bottom: 120px;
z-index: 10; /* Ensure the link is above the image */
}

.scaled-image {
width: 80%; /* 你可以调整这个百分比来缩放图片 */
height: auto; /* 保持宽高比例 */
position: absolute;
bottom: 0;
left:5px;
}
    </style>
</head>
<body>
<div class="wrapper">
      <div><span class="dot"></span></div>
      <div><span class="dot"></span></div>
      <div><span class="dot"></span></div>
      <div><span class="dot"></span></div>
      <div><span class="dot"></span></div>
      <div><span class="dot"></span></div>
      <div><span class="dot"></span></div>
      <div><span class="dot"></span></div>
      <div><span class="dot"></span></div>
      <div><span class="dot"></span></div>
      <div><span class="dot"></span></div>
      <div><span class="dot"></span></div>
      <div><span class="dot"></span></div>
      <div><span class="dot"></span></div>
      <div><span class="dot"></span></div>
    </div>

    <div class="sidebar">
        <img src="static\images\hdu.png" alt="杭电图标" class="icon"/>
    <h1>导航栏</h1><br>
        <a href="/static/query.html">查询客户信息</a>
        <a href="/static/wykh.html">违约客户</a>
        <a href="/static/rdsq.html" style="color: green;">违约认定申请</a>
        <a href="/static/rdsh.html">认定审核</a>
        <a href="/static/wycs.html">违约重生申请</a>
        <a href="/static/cssh.html">重生审核</a>
        <a href="/static/tj.html">数据统计</a>
        <a href="/static/hdulogin.html" class="logout-link" style="color: yellow;">退出登录</a >
        <img src="static\images\sun.gif" alt="light" class="scaled-image" />
    </div>
    <div class="content">
        <div class="form-container">
            <h1>认定申请</h1>
            <form id="applicationForm" enctype="multipart/form-data">
                <div class="input-container">
                    <label for="clientName">客户名称 *</label>
                    <input type="text" id="clientName" name="clientName" class="input" required>
                </div>
                <div class="input-container">
                    <label for="externalRating">最新外部等级</label>
                    <div class="range-container">
                        <span id="rangeValue" class="range-label">0</span>
                        <input type="range" id="externalRating" name="externalRating" class="range-slider" min="0" max="10" step="1" value="0">
                    </div>
                </div>
                <div class="input-container">
                    <label for="violationReason">违约原因 *</label>
                    <select id="violationReason" name="violationReason" class="select" required>
                        <option value="">请选择</option>
                        <option value="1">6个月内，交易对手技术性或资金等原因，给当天结算带来头寸缺口2 次以上</option>
                        <option value="2">6 个月内因各种原因导致成交后撤单 2 次以上</option>
                        <option value="3">未能按照合约规定支付或延期支付利息，本金或其他交付义务（不包括在宽限期内延期支付）</option>
                        <option value="4">关联违约：如果集团（内部联系较紧密的集团）或集团内任一公司（较重要的子公司，一旦发生违约会对整个集团造成较大影响的）发生违约，可视情况作为集团内所有成员违约的触发条件 </option>
                        <option value="5">发生消极债务置换：债务人提供给债权人新的或重组的债务，或新的证券组合、现金或资产低于原有金融义务；或为了债务人未来避免发生破产或拖欠还款而进行的展期或重组 </option>
                        <option value="6">申请破产保护，发生法律接管，或者处于类似的破产保护状态</option>
                        <option value="7">在其他金融机构违约（包括不限于：人行征信记录中显示贷款分类状态不良类情况，逾期超过 90 天等），或外部评级显示为违约级别</option>
                    </select>
                </div>
                <div class="input-container">
                    <label for="severity">违约严重性</label>
                    <select id="severity" name="severity" class="select">
                        <option value="高">高</option>
                        <option value="中">中</option>
                        <option value="低">低</option>
                    </select>
                </div>
                <div class="input-container">
                    <label for="remarks">备注信息</label>
                    <textarea id="remarks" name="remarks" class="textarea"></textarea>
                </div>
                <div class="input-container">
                    <label for="attachment">附件</label>
                    <input type="file" id="attachment" name="attachment" class="input">
                </div>
                <button type="submit" class="submit">提交申请</button>
                <div id="errorMessage" class="error-message"></div>
            </form>
        </div>
    </div>
    <script>
document.getElementById('applicationForm').addEventListener('submit', function(event) {
    event.preventDefault(); // 阻止默认表单提交
    const formData = new FormData(this);
    fetch('/submitApplication', {
        method: 'POST',
        body: formData,
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            alert('申请提交成功！');
            document.getElementById('errorMessage').textContent = 'ok';
            document.getElementById('applicationForm').reset();
            document.getElementById('rangeValue').textContent = '0'; // 重置滑块值
        } else {
            // 显示具体的错误信息
            const errorMessage = data.message || '申请提交失败，请重试。';
            document.getElementById('errorMessage').textContent = errorMessage;
        }
    })
    .catch(error => {
        console.error('提交失败:', error);
        document.getElementById('errorMessage').textContent = '申请提交失败，请重试。';
    });
});


        // 更新滑块值的显示
        document.getElementById('externalRating').addEventListener('input', function() {
            document.getElementById('rangeValue').textContent = this.value;
        });
    </script>
</body>
</html>
